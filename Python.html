<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
 
    <link rel="stylesheet" href="https://pyscript.net/alpha/pyscript.css" />
    <script defer src="https://pyscript.net/alpha/pyscript.js"></script>
 
    <title>PyScript Demo</title>
</head>
<body>
    <py-script>
import pygame
import random

# Initialize Pygame
pygame.init()

# Screen dimensions
WIDTH, HEIGHT = 800, 400
screen = pygame.display.set_mode((WIDTH, HEIGHT))
pygame.display.set_caption("Dino Game")

# Colors
WHITE = (255, 255, 255)
BLACK = (0, 0, 0)
RED = (255, 0, 0)

# Clock and font
clock = pygame.time.Clock()
font = pygame.font.Font(None, 36)

# Dino attributes
dino_width, dino_height = 40, 40
dino_x, dino_y = 50, HEIGHT - dino_height - 50
dino_velocity = 0
gravity = 1
is_jumping = False

# Obstacle attributes
obstacle_width, obstacle_height = 20, 50
obstacle_x = WIDTH
obstacle_y = HEIGHT - obstacle_height - 50
obstacle_speed = 5

# Score
score = 0

def draw_dino(x, y):
    pygame.draw.rect(screen, BLACK, (x, y, dino_width, dino_height))

def draw_obstacle(x, y):
    pygame.draw.rect(screen, RED, (x, y, obstacle_width, obstacle_height))

def display_score(score):
    score_text = font.render(f"Score: {score}", True, BLACK)
    screen.blit(score_text, (10, 10))

def main():
    global dino_y, dino_velocity, is_jumping, obstacle_x, score
    running = True
    
    while running:
        screen.fill(WHITE)
        
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                running = False
            if event.type == pygame.KEYDOWN and event.key == pygame.K_SPACE and not is_jumping:
                is_jumping = True
                dino_velocity = -15
        
        # Dino movement
        if is_jumping:
            dino_y += dino_velocity
            dino_velocity += gravity
            if dino_y >= HEIGHT - dino_height - 50:
                dino_y = HEIGHT - dino_height - 50
                is_jumping = False
        
        # Obstacle movement
        obstacle_x -= obstacle_speed
        if obstacle_x < 0:
            obstacle_x = WIDTH
            score += 1
        
        # Collision detection
        if dino_x < obstacle_x + obstacle_width and dino_x + dino_width > obstacle_x and dino_y < obstacle_y + obstacle_height:
            running = False
        
        # Draw elements
        draw_dino(dino_x, dino_y)
        draw_obstacle(obstacle_x, obstacle_y)
        display_score(score)
        
        pygame.display.flip()
        clock.tick(30)

    pygame.quit()

if __name__ == "__main__":
    main()
    </py-script>   
</body>
